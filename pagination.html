<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagination Table</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f2f2f2; }
        .pagination { display: flex; justify-content: center; align-items: center; gap: 5px; }
        .pagination button { padding: 8px 12px; border: 1px solid #ddd; background: white; cursor: pointer; }
        .pagination button:hover { background: #f5f5f5; }
        .pagination button.active { background: #007bff; color: white; }
        .pagination button:disabled { opacity: 0.5; cursor: not-allowed; }
        .dots { padding: 8px 4px; }
    </style>
</head>
<body>
    <h1>Data Table with Pagination</h1>
    <table id="dataTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Department</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>
    
    <div class="pagination" id="pagination"></div>

    <script>
        const data = Array.from({length: 50}, (_, i) => ({
            id: i + 1,
            name: `User ${i + 1}`,
            email: `user${i + 1}@example.com`,
            department: ['IT', 'HR', 'Finance', 'Marketing'][i % 4]
        }));

        let currentPage = 1;
        const itemsPerPage = 5;
        const totalPages = Math.ceil(data.length / itemsPerPage);

        function renderTable() {
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageData = data.slice(start, end);
            
            document.getElementById('tableBody').innerHTML = pageData.map(item => 
                `<tr><td>${item.id}</td><td>${item.name}</td><td>${item.email}</td><td>${item.department}</td></tr>`
            ).join('');
        }

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            let html = '';
            
            // Previous button
            html += `<button onclick="goToPage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>Previous</button>`;
            
            // First page
            if (currentPage > 3) {
                html += `<button onclick="goToPage(1)" ${currentPage === 1 ? 'class="active"' : ''}>1</button>`;
                if (currentPage > 4) html += '<span class="dots">...</span>';
            }
            
            // Middle pages (3 buttons around current)
            const start = Math.max(1, currentPage - 1);
            const end = Math.min(totalPages, currentPage + 1);
            
            for (let i = start; i <= end; i++) {
                html += `<button onclick="goToPage(${i})" ${i === currentPage ? 'class="active"' : ''}>${i}</button>`;
            }
            
            // Last page
            if (currentPage < totalPages - 2) {
                if (currentPage < totalPages - 3) html += '<span class="dots">...</span>';
                html += `<button onclick="goToPage(${totalPages})" ${currentPage === totalPages ? 'class="active"' : ''}>${totalPages}</button>`;
            }
            
            // Next button
            html += `<button onclick="goToPage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>Next</button>`;
            
            pagination.innerHTML = html;
        }

        function goToPage(page) {
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
                renderPagination();
            }
        }

        // Initial render
        renderTable();
        renderPagination();
    </script>
</body>
</html>
